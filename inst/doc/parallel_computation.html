<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Parallel computation and posterior analysis</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Parallel computation and posterior
analysis</h1>



<p>It’s possible to run multiple chains in parallel, where each chain
will run on one core, by specifying the cores argument. Any value above
1 will automatically turn on the parallel mode. If the argument
<code>chains</code> is bigger than 1 and <code>cores</code> is set to 1
or not specified, the chains will run sequentially. The package
<code>RcppParallel</code> is used to run the chains in parallel.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(lnmixsurv)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">library</span>(bayesplot)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="fu">color_scheme_set</span>(<span class="st">&quot;viridis&quot;</span>)</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">25</span>)</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">simulate_data</span>(</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a>  <span class="at">n =</span> <span class="dv">4000</span>, <span class="at">mixture_components =</span> <span class="dv">3</span>, <span class="at">k =</span> <span class="dv">2</span>,</span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>  <span class="at">percentage_censored =</span> <span class="fl">0.2</span></span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a>)<span class="sc">$</span>data <span class="sc">|&gt;</span></span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">y =</span> t, <span class="at">x =</span> cat)</span></code></pre></div>
<p>This piece of code will run the chains sequentially and save the
times for the sake of comparison:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>start_sequential <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>mod_sequential <span class="ot">&lt;-</span> <span class="fu">survival_ln_mixture</span>(<span class="fu">Surv</span>(y, delta) <span class="sc">~</span> x, data,</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>                                      <span class="at">iter =</span> <span class="dv">50</span>, <span class="at">chains =</span> <span class="dv">2</span>,</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>                                      <span class="at">starting_seed =</span> <span class="dv">5</span>, <span class="at">warmup =</span> <span class="dv">0</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>)</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>end_sequential <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>times_sequential <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(<span class="at">start_sequential =</span> start_sequential,</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>                                   <span class="at">end_sequential =</span> end_sequential)</span></code></pre></div>
<p>We can specify the <code>cores</code> argument to run the chains in
parallel. In this case, since we’re using <code>chains = 2</code>,
specifying any number of cores above 2 will limit the number of cores to
2. If the number of cores is between 1 and the number of chains, the
chains will be fitted in parallel limited to the number of cores.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>start_parallel <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>mod_parallel <span class="ot">&lt;-</span> <span class="fu">survival_ln_mixture</span>(<span class="fu">Surv</span>(y, delta) <span class="sc">~</span> x, data,</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>                                    <span class="at">iter =</span> <span class="dv">50</span>, <span class="at">chains =</span> <span class="dv">2</span>, <span class="at">cores =</span> <span class="dv">2</span>,</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>                                    <span class="at">starting_seed =</span> <span class="dv">5</span>, <span class="at">warmup =</span> <span class="dv">0</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>)</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>end_parallel <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>times_parallel <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(<span class="at">start_parallel =</span> start_parallel,</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>                                 <span class="at">end_parallel =</span> end_parallel)</span></code></pre></div>
<p>Since the seed is fixed, the results should be the same. We can check
that by comparing the posterior samples:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">mcmc_trace</span>(mod_sequential<span class="sc">$</span>posterior, <span class="at">pars =</span> <span class="st">&quot;eta_1&quot;</span>)</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAMAAAAjXV6yAAABCFBMVEUAAAAAADoAAGYAOpAAZrYzMzM6AAA6ADo6AGY6OpA6ZmY6ZrY6kNtBRIdNTU1NTW5NTY5NbqtNjo5NjshmAABmAGZmOpBmZrZmkNtmtrZmtttmtv9uTU1uTW5uTY5ubqtuq+SOTU2OTW6OTY6ObquOjk2OjsiOq+SOyP+QOgCQOjqQZpCQkLaQkNuQtpCQtv+Q27aQ2/+rbk2rbo6rjk2rjqurq8ir5OSr5P+2ZgC2Zjq2Zma2/7a2/9u2///Ijk3Ijo7Iq6vIyP/I///bkDrbkJDb/9vb///kq27kq47k///95yX/tmb/tpD/yI7/yKv/yMj/25D/5Kv//7b//8j//9v//+T///++u0dbAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAJm0lEQVR4nO2diZbTNhRAPQOkG0mhE7oBnZnSllBo6QxdhtIytAQISZo2C/H//0kl704sPVm2Vr97gDgRyrHveXqSbSkOQoRLYHoHbAcFAaAgABQEgIIAUBBAfUEdU4qCAFAQAAoCQEEAKAgABQGgIAAUBICCAFAQAAoCkBbUb3lHbEVa0KzlHbEVeUEdCSH5HNSREEJBAA0EldqYt7oadPMFJ7MZ/RNveEYbghIrsxn11MZO2USTgeIscrITNL4ZaiSoSkbS0rxpa41ONSqHQrNUkuQeWUazc7EqQ2keQkGUakPlV7dpejbPOeFAQRTeGZkXhhpfD+qXXsr40JU1v2DWj//ps7o0x2nhimK/8HcP54OoHUFJFFXiuKE2rkn3EzdeGmpFEC9Ro6CQ35OFjhtq9baPj4ZQEEC7Nw49zEJaBLlsCAUBtHxv3r82xjvc1Z2PL6KNyWAwEqrRLUGbry9WX70kG6vjabwB1QhZhvwUtDgKt+c0ciYnYXh5IlAj7JagyVHiJdsIrxGArOWbIZ6gNHAWN14KR1AnBYWXg0GSrvk1KB0SlOWgeFugRoRnVxaBXux4Gm3SRiZQI6I7guJx0OrOaDG4ORWrEcG7V+YeCma5+hVCKAhAxTxpr9oYCgJQMtPeJ0MoCEDNWg2PDKEgAH2CHDWkaDmUPyGEggBQEIBGQW4aUrUk05sQQkEAKAhApyAnDSlbFu5LCKEgABQEoFWQi4bU/TSFJyGEggD0CnLQEAoCUCfIE0MoCEC3IOcMoSAAhYL8MISCAPQLcswQCgJQKcgLQygIAAUBoCAA0dU+2UT7FgQ5ZUhktQ/duCs6076I54KymfZEE3EkUGMPD9qYyGqf7fnRIm5iAqt9SnguKFvMsjnNl2pgBGXkgt7+dp4vRmhBkEuGhHLQ8TRb9oOCcrLVPjRJn0oJ8qCNiaz2kR4H+S6ohRpWtbF5EARXXj98sx7eLnxafrdHhwQ9PTgLw2Xv8I9hgIIqGMda1reeL3tcJWUUC7InCa2HV95EG6+cEKTf0LJ3Pd/88kFwlcZUQF5IE1sP4w+q6IygeVAQdHA2PzhbvncWzg9+GgZfDIPog8p63RR0O6R2SN4mZsi7/IN9VAuyxtB6mLWhyAf5S9L2PBfESEydERT38oRx6mN++Dy0WJB2Q+8eRP380+tpBI2JsTEKKkB7LSJpTXLyj72Apufgw14QEX1QmYSUC7KnjclhTpAjhlAQgEFBbhhSL8jxEKo63FfP69bg4nYIZYdLhgkph+0KcjuE8sMdZ+cqLUeQ2yGUH+76s7o1hHE5hDQkaRQE4/BomnG4z9hpqE1BDhhCQQAoCECPIIeTkGFB9htCQRnjoOqaIgpKoKdaBgU5YIhxVbricPOTsko6LSi6rB0kN7EZOCuov0e5XEDQ+tM3y8fhP9W3GCtr1Ng9xudORdD6h/DdI6qJ9z0tC7LHkIAgYofEz/L9lq8HxVgfQiI5aB5cJd2diiQdPwrR6p+rEO7FAGQFUT2uCyI5KKR395O36Wqfzemg8HAfaUGh3b818LS6/64QtL4V56Bstc9/5J8Xgs/2AbA6hCopHO48vauRTKQpPldj+4vUUoQ9bA6hakqHu/y8+C5/pA9pbfejl7qrffZwXFCZ4kOh3mbLxRREkNWGyoe77F1dD9P7hgVBhRbWTJB7IVQeKD58TYaK4ySXF3LQ5jtGjdo4F0I7vRgdS88P814sfbbPiFGjNqyJ5dYqKh/usz8f0WaWvMtW+xQ6eUWC7A2i8uGuh3kvL1ajNlxDFlrSeKoRwxFE2pl9huwRFMuxzpB2QRxDEbYZQkEJ9K5G1Uxp/YLsNPTu+zPiqMKQAUGAITOClo/D0pqyDBOC+IYMJqGq5atGBJkxNNtj938sPwAumAnRhiCuIXMh9LsdSZoChJCZU7O54Yv2JbghZGZEvfyo6lMbBVH0G4oS0P5dZVOCrBsNLXvV0xJQUExyx8KScVCEZYZYoCAAFARgTpAjhlAQgEFBbhhCQQAmBQkaMivKZkHROWvFVQmtGBUEGopP643e7rBcUEQsyJAhs4LEDMVRhILYzNI/BjAsSDSEzKUh04KEDKXty0QeMi5I0NDuhjbMCxIx1G1Bgpk6RrshFARgg6A6hlAQhO6ZelYIql4nVc1Mc2/PO9zs2T7h9ryd1T5shBXNNA+qOYebrfaRf/BIDYRjaGaNoGym/fb8RKxGI8RDyBZB2Wqf1VffDuIQarzah0OdTK3RkMhqn8knf0fz7cEazbBzOCQkqLAuCgXlZDmouLJOoaA6nb2+q4xALxY/2+fuheQD2OpSYzgUzTE0Kyhf7bMoLHpWKqhepg51NDU7RtIZKAhCxpDSW2fuC1I8srZNkFwj65Kg2JA9ucg+QUQO42dQOHRKUCQHBUHUM4SCIJQZslaQLSGEggDsFWTJFTRfBCkzZLGgsiFT66dcEVTnYlqr2CyoaCgfW2s25Yigfvam9llIQ6wWlLvIzz5QUJH4zL5fOMOXOE9rht2CkqbVT4NH8mJIE6wXVO7KskSkDcsF7apAQYLoM4SCABwVpM+Qq4K0GUJBAM4K0mUIBQG4K0jTFRCHBelR5LQgHc0MBQG4LUiDIRQEgIIAUBCA0GqfzengRjuPrmkd5YaEVvsUHjuCgnKymfYkgArLfVBQSmEFwupO/KpytY8cRgUV1rBs7lmag5QbEhTU1vPF2segoNLzxZ6goD0Kz/YJF3mWRkEZ6WqfxWCgflGvNIoNOT6SDlEQjFpDfghS6MgDQeHec7/bxAtBKkPIB0EhCoJRZggFAfgiSBkoCAAFAaAgABQEgIIAUBAACgJAQQAoCAAFAUgIIlwLOHALlVc1L4hyTbrQUFV5UBAACgLoWMqtDwoCQEEAKAgABQGgIAAZQflv3e9Bp+2xyrfnA/o5o3TCKyRcjpil8SRczl41QUJQPvt1jwmdJ8Mqf3sRXt6cMkpX96lc9lfT39zlfDF3rxohIag482wXGkGccnII7NLFCafqXz+PWKXxJFzeXjVBQlD597f3yzjlq+Mps3T7K6fqYkSaGLOUTsLl7VUTZASdAILY5SRIWKVRHLAKiTwqiPnFm3sveXvVBK2CNt9MOaWTG8yj/PeCLyh8YZMg+RxE5xKzS0kYsAovB4QTdtXtE05ua4ZkL5bOft1lcsQpn4xIZ8WuvTjiffXliFNKmi5vr5rQ7jgong/LKKdhEE2brSqdxDNpZcZBC6hqI3AkDYCCAFAQAAoCQEEAKAgABQGgIAAUBICCAP4HsJFe1MQ1/fgAAAAASUVORK5CYII=" /><!-- --></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">mcmc_trace</span>(mod_parallel<span class="sc">$</span>posterior, <span class="at">pars =</span> <span class="st">&quot;eta_1&quot;</span>)</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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" /><!-- --></p>
<p>It’s important to notice that these are the first 50 iterations of
the Gibbs sampler executed just to show how to run the chains in
parallel. The number of iterations should be increased to get reliable
results.</p>
<p>We expect the parallel algorithm to be faster. The times for the
sequential and parallel runs are:</p>
<pre><code>#&gt; [1] &quot;Sequential&quot;
#&gt; Time difference of 0.5548649 secs
#&gt; [1] &quot;-------------&quot;
#&gt; [1] &quot;Parallel&quot;
#&gt; Time difference of 0.4238331 secs</code></pre>
<p>The parallel run should be faster than the sequential run. The
speedup will depend on the number of cores available and the number of
chains.</p>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
